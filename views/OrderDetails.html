<div data-options="dxView : { name: 'order-details', title: 'Đơn hàng' } " >
	<div data-bind="dxCommand: { id: 'edit', icon: 'edit', action: showActionSheet }" ></div>
	<div data-options="dxContent : { targetPlaceholder: 'content' } " >
		<div data-bind="dxActionSheet: {
		dataSource: dropDownMenuData,
		visible: actionSheetVisible,
		title: 'Xử lý đơn hàng',
		cancelText: 'Bỏ qua'
		}"></div>
		<div data-bind="dxScrollView:{}">
			<!-- <div data-bind="dxDropDownMenu: { buttonText: 'Change status', dataSource: dropDownMenuData, itemClickAction: processValueChange, disabled: disabled }"></div> -->
			<h2 style="margin: 10px;">Chi tiết đơn hàng</h2>
			<div>
				<table class="products-list" style="background-color: white;width:100%;">
					<tbody>
						<!-- ko foreach: products -->
						<tr>
							<td colspan="5" width="100%" style="white-space: pre-wrap; word-wrap: break-word; text-align: left; font-weight: bold;" data-bind="text: name"></td>
						</tr>
						<tr>
							<td rowspan="5" width="auto"><img width="100" height="100" data-bind="attr: { src: thumbnail }" /></td>
						</tr>
						<tr>
							<td width="auto" class="transparent-button" data-bind="dxButton: {iconSrc: 'images/moneyicon.png'}"></td>
							<td width="100%" style="white-space: pre-wrap; word-wrap: break-word; text-align: left; color:red" data-bind="text: price +' VND'"></td>
						</tr>
						<tr>
							<td width="auto" class="transparent-button" data-bind="dxButton: {iconSrc: 'images/product.png'}"></td>
							<td width="100%" data-bind="text: quantity"></td>
						</tr>
						<tr>
							<td width="auto" class="transparent-button" data-bind="dxButton: {iconSrc: 'images/weight.png'}"></td>
							<td width="100%" style="color: red;" data-bind="text: weight + ' g'"></td>
						</tr>
						<tr>
							<td width="auto" class="transparent-button" data-bind="dxButton: {icon: 'cart'}"></td>
							<td width="100%" data-bind="text: stockAvailabilityDisplay"></td>
						</tr>
						<!-- /ko -->
					</tbody>
				</table>
				<table class="products-list" style="background-color: white;width:100%;">
					<tbody>
						<tr>
							<td width="auto" class="transparent-button" data-bind="dxButton: {iconSrc: 'images/payment.png'}"></td>
							<td width="50%" style="white-space: pre-wrap; word-wrap: break-word; text-align: left; color:green" data-bind="text: paymentMethod"></td>
							<td width="auto" class="transparent-button" data-bind="dxButton: {iconSrc: 'images/transport.png'}"></td>
							<td width="50%" style="white-space: pre-wrap; word-wrap: break-word; text-align: left; color:green" data-bind="text: shippingMethod"></td>
						</tr>
					</tbody>
				</table>

			</div>
			<div style="text-align: right;margin: 10px;">
				<span style="font-weight: bold;">Tổng giá: </span><span style="color: red;" data-bind="text:totalAmount() + ' VND'"></span>
			</div>
			<div class="order-info dx-fieldset">
				<div class="dx-field">
					<div class="dx-field-label">
						Trạng thái:
					</div>
					<div class="dx-field-value" data-bind="text:orderStatus" ></div>
				</div>
				<div class="dx-field">
					<div class="dx-field-label">
						Ngày đặt:
					</div>
					<div class="dx-field-value" data-bind="text:orderDateDisplay" ></div>
				</div>
				<div id="delayField" class="dx-field">
					<div class="dx-field-label">
						Ngày hoãn:
					</div>
					<div class="dx-field-value" data-bind="text:delayDateDisplay" ></div>
				</div>
				<div class="dx-field">
					<div class="dx-field-label">
						Người mua:
					</div>
					<div class="dx-field-value" data-bind="text:buyerName"></div>
				</div>
				<div class="dx-field">
					<div class="dx-field-label">
						Địa chỉ:
					</div>
					<div class="dx-field-value" data-bind="text:buyerAddress" ></div>
				</div>
				<div class="dx-field">
					<div class="dx-field-label">
						Điện thoại:
					</div>
					<div class="dx-field-value">
						<a style="font-weight:bold;" data-bind="attr: {href:'tel:'+buyerPhone()}, text:buyerPhone"></a>
					</div>
				</div>
			</div>
			<table style="background: yellow;border: 1px solid #d2d3d5;width: 100%;">
				<tbody>
					<tr>
						<td><div style="font-style: italic; padding: 10px; " data-bind="text:note" ></div></td>
					</tr>
				</tbody>
			</table>

		</div>
		<div data-bind="dxLoadPanel:{message: 'Đang xử lý...', visible: loadPanelVisible }"></div>
		<div class="popup" data-bind="dxPopup:{visible:popupDelayVisible, fullScreen:false, title:'Delay'}">
			<div data-options="dxTemplate:{name: 'content'}">
				<div class="dx-fieldset">
					<div class="dx-field">
						<div class="dx-field-label">
							Ngày hoãn
						</div>
						<div class="dx-field-value" data-bind="
						dxDateBox: { value: dateBoxValue, format: 'date' }"></div>
					</div>
				</div>
				<div class="footer">
					<div class="button" data-bind="dxButton: { text: 'Hoãn', clickAction: function() {doDelayOrderByOrderID();}, icon:'clock' }"></div>
					<div class="button" data-bind="dxButton: { text: 'Huỷ hoãn', clickAction: hideDelayPopUp, icon: 'close' }"></div>
				</div>
			</div>
		</div>
		<div class="popup" data-bind="dxPopup:{visible:popupSplitVisible, fullScreen:true, title:'Split'}">
			<div data-options="dxTemplate:{name: 'content'}">
				<h2>Sản phẩm để tách</h2>
				<div id="splitList" style="margin: 10px;height=75%;height=calc(100%-68px);" data-bind="dxList: {dataSource: productsToSplit,
				editEnabled: true,
				editConfig: {
				deleteEnabled: true,
				deleteMode: 'toggle'
				}
				}">
					<div class="listItem" data-options="dxTemplate:{ name:'item' }">
						<div class="lazyload" style="display:inline-block; margin: 5px;">
							<img width="50" height="50"  style="margin:5px;" data-bind="attr: { src: thumbnail }" />
						</div>
						<div style="display:inline-block; margin: 5px;">
							<p>
								<i data-bind="text: name" style="white-space: pre-wrap; word-wrap: break-word; text-align: left;"></i>
							</p>
							<p>
								<i data-bind="text: stockAvailability"></i>
							</p>
						</div>
					</div>
				</div>
				<div class="footer">
					<!-- <div style="float:right;" data-bind="dxButton: { text: 'Continue', clickAction: popup.hide }"></div> -->
					<div class="button"  data-bind="dxButton: { text: 'Tách', clickAction: function() { doSplitOrderByOrderID(); }, icon:'plus' }"></div>
					<div class="button"  data-bind="dxButton: { text: 'Huỷ tách', clickAction: hideSplitPopUp, icon:'close' }"></div>
				</div>
			</div>
		</div>
	</div>
</div>
